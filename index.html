<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VAULT-TEC TERMINAL</title>

<style>
/* ===== FALLOUT TERMINAL STYLE ===== */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #000;
  font-family: "Courier New", monospace;
  color: #00ff66;
  overflow: hidden;
}

#terminal {
  padding: 20px;
  height: 100%;
  box-sizing: border-box;
  text-shadow: 0 0 5px #00ff66;
}

.line {
  white-space: pre-wrap;
  line-height: 1.4;
}

#input-line {
  display: flex;
}

.prompt {
  margin-right: 5px;
}

#cmd {
  background: transparent;
  border: none;
  outline: none;
  color: #00ff66;
  font-family: inherit;
  font-size: 16px;
  flex: 1;
  caret-color: #00ff66;
}

/* Scanlines */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(0, 255, 100, 0.05),
    rgba(0, 255, 100, 0.05) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events: none;
}

/* Flicker */
@keyframes flicker {
  0% { opacity: 0.97; }
  50% { opacity: 1; }
  100% { opacity: 0.98; }
}
#terminal {
  animation: flicker 0.15s infinite;
}
</style>
</head>

<body>
<div id="terminal"></div>

<script>
const terminal = document.getElementById("terminal");

const PROMPT = "USER@VAULT-TEC:~$";
let history = [];
let historyIndex = 0;

function printLine(text = "") {
  const div = document.createElement("div");
  div.className = "line";
  div.textContent = text;
  terminal.appendChild(div);
  terminal.scrollTop = terminal.scrollHeight;
}

function newPrompt() {
  const line = document.createElement("div");
  line.id = "input-line";

  const prompt = document.createElement("span");
  prompt.className = "prompt";
  prompt.textContent = PROMPT;

  const input = document.createElement("input");
  input.id = "cmd";
  input.autofocus = true;

  input.addEventListener("keydown", e => {
    if (e.key === "Enter") {
      const cmd = input.value.trim();
      history.push(cmd);
      historyIndex = history.length;

      terminal.removeChild(line);
      printLine(`${PROMPT} ${cmd}`);
      runCommand(cmd);
      newPrompt();
    }

    if (e.key === "ArrowUp") {
      if (historyIndex > 0) {
        historyIndex--;
        input.value = history[historyIndex];
      }
    }

    if (e.key === "ArrowDown") {
      if (historyIndex < history.length - 1) {
        historyIndex++;
        input.value = history[historyIndex];
      } else {
        input.value = "";
      }
    }
  });

  line.appendChild(prompt);
  line.appendChild(input);
  terminal.appendChild(line);
  input.focus();
}

function runCommand(cmd) {
  if (!cmd) return;

  const args = cmd.split(" ");
  switch (args[0]) {
    case "help":
      printLine("AVAILABLE COMMANDS:");
      printLine(" help     ls     clear");
      printLine(" whoami   date");
      break;

    case "ls":
      printLine("bin  data  logs  readme.txt");
      break;

    case "cat":
      if (args[1] === "readme.txt") {
        printLine("WELCOME TO VAULT-TEC TERMINAL");
        printLine("SYSTEM STATUS: STABLE");
      } else {
        printLine("FILE NOT FOUND");
      }
      break;

    case "whoami":
      printLine("guest");
      break;

    case "date":
      printLine(new Date().toString());
      break;

    case "clear":
      terminal.innerHTML = "";
      break;

    default:
      printLine("COMMAND NOT RECOGNIZED");
  }
}

/* Boot Text */
printLine("VAULT-TEC INDUSTRIES (TM)");
printLine("ROBCO TERMINAL OS v4.12");
printLine("--------------------------------");
printLine("TYPE 'help' FOR AVAILABLE COMMANDS");
printLine("");
newPrompt();
</script>
</body>
</html>
